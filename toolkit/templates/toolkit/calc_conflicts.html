{% extends 'base.html' %}

{% block content %}
<h2>{{ title }}</h2>

Пример расчета конфликтов##
<p> Фазы-направления </p>
<form action="" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <table>
        <tr>
            <td>Тип контроллера: </td>
            <td>
                <input type="radio" value="undefind" name="controller_type" checked id="undefind"> Не выбрано
                <input type="radio" value="swarco" name="controller_type" id="swarco"> Swarco
                <input type="radio" value="peek" name="controller_type" id="peek"> Peek                   
            </td>
        </tr>
    </table>

    <fieldset>
        <legend> Опции </legend>
        <table>
            <tr>                
                <td><input type="checkbox" name="create_txt" id="createtxt"></td>
                <td>Создать txt файл с конфликтами</td>
            </tr>
        </table>
        <table>
            <tr>
                <td><input type="checkbox" name="binval_swarco" id="binval_swarco"></td>
                <td>Бинарные значения фаз для swarco</td>
            </tr>
        </table>
        <table>
            <tr>
                <td><input type="checkbox" name="binval_swarco" id="binval_swarco"></td>
                <td>Создать файл конфигурации</td>
            </tr>
        </table>

    </fieldset>
    <!-- <p> Опции </p> -->
    <!-- <label class="calc_conflicts" for="createtxt">Создать txt файл с конфликтами</label>
    <input type="checkbox" name="create txt" id="createtxt"><br>
    <label class="calc_conflicts" for="controller_type">Тип контроллера</label>
    <input type="checkbox" name="create txt" id="createtxt"><br> -->
    <textarea rows="8" name="table_stages"></textarea>
    <p></p>
    <button type="submit"> Отправить </button>
</form>


{% if render_conflicts_data %}
{% for line in sorted_stages %}
<br> Фаза {{ forloop.counter }}: {{ line|join:", " }}
{% endfor %}

<br> Количество направлений: {{ kolichestvo_napr }}

<p></p>


<table border="1" bgcolor="#C0C0C0" cellpadding="8" cellspacing="4">
    {% for line in matrix %}
        {% if forloop.first%}
    <tr>
            {% for el in line %}
             <th>{{ el }}</th>
            {% endfor %}
    </tr>
        {% else %}
            <tr>
            {% for el in line %}
                {% if forloop.first %}
                    <td> <b> {{ el }} </b> </td>
                {% elif el == values.0 %}
                <td align="center"> <span style="color:red">{{ el }}</span> </td>
                {% elif el == values.1 %}
                <td align="center"> <span style="color:green">{{ el }}</span> </td>
                {% else %}
                        <td align="center">{{ el }}</td>
                {% endif %}
            {% endfor %}
                </tr>
        {% endif %}
    {% endfor %}
</table>
<br>

{% comment %} Вывод матрицы конфликтов "интергрин" F997 {% endcomment %}
<b>Матрица конфликтов "интергрин" F997:</b>
<br>
{% for line in matrix_swarco_F997 %}
    {% for el in line %}
    {{ el }}
    {% endfor %}
<br>
{% endfor %}

{% comment %} Вывод матрицы физических конфликтов групп F992 {% endcomment %}
<b>Физические конфликты - номера конфликтных групп F992:</b>
<br>
{% for line in conflict_groups_F992 %}
    {% for el in line %}
    {{ el }}
    {% endfor %}
<br>
{% endfor %}

{% comment %} Вывод бинарных значений направлений для фаз F009 {% endcomment %}
<b>Сигнальные группы в фазах F009:</b>
<br>
{% for line in binary_val_swarco_F009 %}
    {% for el in line %}
    {{ el }}
    {% endfor %}
{% endfor %}
<br>

{% endif %}



{% endblock %}